var e,r,t,o=require("@radix-ui/react-use-controllable-state").useControllableState,n=require("@radix-ui/react-use-callback-ref").useCallbackRef,a=require("@radix-ui/react-primitive").Primitive,i=require("@radix-ui/react-id").useId,u=require("@radix-ui/react-context").createContext,c=require("@radix-ui/react-compose-refs").useComposedRefs,s=require("@radix-ui/react-collection").createCollection,l=require("@radix-ui/primitive").composeEventHandlers,f=(e={},r=require("react"),Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),e),d=(t=require("@babel/runtime/helpers/extends"))&&t.__esModule?t.default:t;const p={bubbles:!1,cancelable:!0},[v,m,b]=s(),g="span",[w,x]=u("RovingFocusGroup"),E=/*#__PURE__*/f.forwardRef(((e,r)=>/*#__PURE__*/f.createElement(v,null,/*#__PURE__*/f.createElement(F,d({},e,{ref:r})))));exports.RovingFocusGroup=E;const F=/*#__PURE__*/f.forwardRef(((e,r)=>{const{as:t=g,orientation:i,dir:u="ltr",loop:s=!1,currentTabStopId:v,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:E,...F}=e,I=f.useRef(null),R=c(r,I),[h=null,A]=o({prop:v,defaultProp:m,onChange:x}),[y,C]=f.useState(!1),q=n(E),{getItems:D}=b();return f.useEffect((()=>{const e=I.current;if(e)return e.addEventListener("rovingFocusGroup.onEntryFocus",q),()=>e.removeEventListener("rovingFocusGroup.onEntryFocus",q)}),[q]),/*#__PURE__*/f.createElement(w,{orientation:i,dir:u,loop:s,currentTabStopId:h,onItemFocus:f.useCallback((e=>A(e)),[A]),onItemShiftTab:f.useCallback((()=>C(!0)),[])},/*#__PURE__*/f.createElement(a,d({tabIndex:y?-1:0,"aria-orientation":i,"data-orientation":i},F,{as:t,ref:R,onFocus:l(e.onFocus,(e=>{if(e.target===e.currentTarget&&!y){const r=new Event("rovingFocusGroup.onEntryFocus",p);if(e.currentTarget.dispatchEvent(r),!r.defaultPrevented){const e=D().filter((e=>e.focusable));T([e.find((e=>e.active)),e.find((e=>e.id===h)),...e].filter(Boolean).map((e=>e.ref.current)))}}})),onBlur:l(e.onBlur,(()=>C(!1)))})))})),I="span",R=/*#__PURE__*/f.forwardRef(((e,r)=>{const{as:t=I,focusable:o=!0,active:n=!1,...u}=e,c=i(),s=x("RovingFocusItem"),p=s.currentTabStopId===c,{getItems:v}=b();/*#__PURE__*/return f.createElement(m,{id:c,focusable:o,active:n},/*#__PURE__*/f.createElement(a,d({tabIndex:p?0:-1,"data-orientation":s.orientation},u,{as:t,ref:r,onMouseDown:l(e.onMouseDown,(e=>{o||e.preventDefault()})),onFocus:l(e.onFocus,(()=>s.onItemFocus(c))),onKeyDown:l(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void s.onItemShiftTab();if(e.target!==e.currentTarget)return;const r=function(e,r,t){const o=function(e,r){return"rtl"!==r?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,t);return"vertical"===r&&["ArrowLeft","ArrowRight"].includes(o)||"horizontal"===r&&["ArrowUp","ArrowDown"].includes(o)?void 0:h[o]}(e,s.orientation,s.dir);if(void 0!==r){e.preventDefault();let n=v().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===r)n.reverse();else if("prev"===r||"next"===r){"prev"===r&&n.reverse();const a=n.indexOf(e.currentTarget);n=s.loop?(o=a+1,(t=n).map(((e,r)=>t[(o+r)%t.length]))):n.slice(a+1)}setTimeout((()=>T(n)))}var t,o}))})))}));exports.RovingFocusItem=R;const h={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e){const r=document.activeElement;for(const t of e){if(t===r)return;if(t.focus(),document.activeElement!==r)return}}const A=E;exports.Root=A;const y=R;exports.Item=y;
//# sourceMappingURL=index.js.map
