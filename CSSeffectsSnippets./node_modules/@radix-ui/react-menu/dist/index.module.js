import{useFocusGuards as e}from"@radix-ui/react-focus-guards";import{useCallbackRef as t}from"@radix-ui/react-use-callback-ref";import{Slot as o}from"@radix-ui/react-slot";import{RovingFocusGroup as r,RovingFocusItem as n}from"@radix-ui/react-roving-focus";import{Portal as a}from"@radix-ui/react-portal";import*as u from"@radix-ui/react-popper";import{Primitive as c,extendPrimitive as l}from"@radix-ui/react-primitive";import{Presence as s}from"@radix-ui/react-presence";import{FocusScope as i}from"@radix-ui/react-focus-scope";import{DismissableLayer as d}from"@radix-ui/react-dismissable-layer";import{createContext as m}from"@radix-ui/react-context";import{composeRefs as p,useComposedRefs as f}from"@radix-ui/react-compose-refs";import{createCollection as v}from"@radix-ui/react-collection";import{composeEventHandlers as x}from"@radix-ui/primitive";import{hideOthers as M}from"aria-hidden";import{RemoveScroll as h}from"react-remove-scroll";import*as C from"react";import w from"@babel/runtime/helpers/esm/extends";function y(){const e=C.useRef(0),t=C.useRef(""),o=C.useCallback((r=>{t.current=r,window.clearTimeout(e.current),e.current=window.setTimeout((()=>o("")),1e3)}),[]);return{onKeyDownCapture:e=>{if(1===e.key.length&&!(e.ctrlKey||e.altKey||e.metaKey)){const r=e.currentTarget;o(t.current+e.key)," "!==e.key||t.current.startsWith(" ")||e.stopPropagation();const n=document.activeElement,a=n?E(n):void 0,u=function(e,t,o){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,n=o?e.indexOf(o):-1;let a=(u=e,c=Math.max(n,0),u.map(((e,t)=>u[(c+t)%u.length])));var u,c;1===r.length&&(a=a.filter((e=>e!==o)));const l=a.find((e=>e.toLowerCase().startsWith(r.toLowerCase())));return l!==o?l:void 0}(Array.from(r.querySelectorAll(`[${b}]`)).map(E),t.current,a),c=r.querySelector(`[${b}="${u}"]`);c&&setTimeout((()=>c.focus()))}}}}const E=e=>{var t;return null!==(t=e.getAttribute(b))&&void 0!==t?t:""},b="data-radix-menu-typeahead-item";const D=["ArrowUp","PageDown","End"],k=["ArrowDown","PageUp","Home",...D],[I,g]=m("Menu");export const Menu=e=>{const{open:o=!1,children:r,onOpenChange:n}=e,a=t(n);/*#__PURE__*/return C.createElement(u.Root,null,/*#__PURE__*/C.createElement(I,{open:o,onOpenChange:a},r))};/*#__PURE__*/const[S,P,F]=v(),[A,R]=m("MenuContent");export const MenuContent=/*#__PURE__*/C.forwardRef(((e,t)=>{const{forceMount:o,...r}=e,n=g("MenuContent");/*#__PURE__*/return C.createElement(s,{present:o||n.open},/*#__PURE__*/C.createElement(S,null,/*#__PURE__*/C.createElement(K,w({"data-state":(a=n.open,a?"open":"closed")},r,{ref:t}))));var a}));const K=/*#__PURE__*/C.forwardRef(((t,n)=>{const{dir:c="ltr",loop:l=!1,trapFocus:s,onOpenAutoFocus:m,onCloseAutoFocus:f,disableOutsidePointerEvents:v,onEscapeKeyDown:E,onPointerDownOutside:b,onFocusOutside:I,onInteractOutside:S,disableOutsideScroll:P,portalled:R,...K}=t,O=g("MenuContent"),L=C.useRef(null),T=y(),{getItems:G}=F(),[V,N]=C.useState(null),[U,B]=C.useState(!1),$=R?a:C.Fragment,q=P?h:C.Fragment;return e(),C.useEffect((()=>{const e=L.current;if(e)return M(e)}),[]),/*#__PURE__*/C.createElement($,null,/*#__PURE__*/C.createElement(q,null,/*#__PURE__*/C.createElement(A,{onItemLeave:C.useCallback((()=>{var e;null===(e=L.current)||void 0===e||e.focus(),N(null)}),[])},/*#__PURE__*/C.createElement(i,{trapped:!U&&(s&&O.open),onMountAutoFocus:m,onUnmountAutoFocus:e=>{U?e.preventDefault():null==f||f(e)}},(e=>/*#__PURE__*/C.createElement(d,{disableOutsidePointerEvents:v,onEscapeKeyDown:E,onPointerDownOutside:x(b,(e=>{const t=0===e.button&&!1===e.ctrlKey;B(!v&&t),e.defaultPrevented&&B(!1)}),{checkForDefaultPrevented:!1}),onFocusOutside:x(I,(e=>{s&&e.preventDefault()}),{checkForDefaultPrevented:!1}),onInteractOutside:S,onDismiss:()=>O.onOpenChange(!1)},(t=>/*#__PURE__*/C.createElement(r,{as:o,dir:c,orientation:"vertical",loop:l,currentTabStopId:V,onCurrentTabStopIdChange:N,onEntryFocus:e=>e.preventDefault()},/*#__PURE__*/C.createElement(u.Content,w({role:"menu"},e,K,{ref:p(n,L,e.ref),style:{...t.style,outline:"none",...K.style},onBlurCapture:x(K.onBlurCapture,t.onBlurCapture,{checkForDefaultPrevented:!1}),onFocusCapture:x(K.onFocusCapture,t.onFocusCapture,{checkForDefaultPrevented:!1}),onMouseDownCapture:x(K.onMouseDownCapture,t.onMouseDownCapture,{checkForDefaultPrevented:!1}),onTouchStartCapture:x(K.onTouchStartCapture,t.onTouchStartCapture,{checkForDefaultPrevented:!1}),onKeyDownCapture:x(K.onKeyDownCapture,T.onKeyDownCapture),onKeyDown:x(K.onKeyDown,x(e.onKeyDown,(e=>{const t=L.current;if(e.target!==t)return;if(!k.includes(e.key))return;e.preventDefault();const o=G().filter((e=>!e.disabled)).map((e=>e.ref.current));D.includes(e.key)&&o.reverse(),function(e){const t=document.activeElement;for(const o of e){if(o===t)return;if(o.focus(),document.activeElement!==t)return}}(o)})))}))))))))))})),O="div";/*#__PURE__*/export const MenuItem=/*#__PURE__*/C.forwardRef(((e,t)=>{const{as:o=O,disabled:r=!1,textValue:a,onSelect:u,...c}=e,l=C.useRef(null),s=f(t,l),i=g("MenuItem"),d=R("MenuItem"),[m,p]=C.useState("");C.useEffect((()=>{const e=l.current;var t;e&&p((null!==(t=e.textContent)&&void 0!==t?t:"").trim())}),[c.children]);const v=function({textValue:e,disabled:t}){return{[b]:t?void 0:e}}({textValue:null!=a?a:m,disabled:r}),M=()=>{const e=l.current;if(!r&&e){var t;const o=new Event("menu.itemSelect",{bubbles:!0,cancelable:!0});if(e.dispatchEvent(o),o.defaultPrevented)return;null===(t=i.onOpenChange)||void 0===t||t.call(i,!1)}};return C.useEffect((()=>{const e=l.current;if(e){const t=e=>null==u?void 0:u(e);return e.addEventListener("menu.itemSelect",t),()=>e.removeEventListener("menu.itemSelect",t)}}),[u]),/*#__PURE__*/C.createElement(P,{disabled:r},/*#__PURE__*/C.createElement(n,w({role:"menuitem","aria-disabled":r||void 0,focusable:!r},c,v,{as:o,ref:s,"data-disabled":r?"":void 0,onKeyDown:x(e.onKeyDown,(e=>{r||"Enter"!==e.key&&" "!==e.key||(" "===e.key&&e.preventDefault(),M())})),onMouseUp:x(e.onMouseUp,M),onMouseMove:x(e.onMouseMove,(e=>{if(r)d.onItemLeave();else{e.currentTarget.focus()}})),onMouseLeave:x(e.onMouseLeave,(()=>d.onItemLeave()))})))}));/*#__PURE__*/export const MenuCheckboxItem=/*#__PURE__*/C.forwardRef(((e,t)=>{const{checked:o=!1,onCheckedChange:r,...n}=e;/*#__PURE__*/return C.createElement(G.Provider,{value:o},/*#__PURE__*/C.createElement(MenuItem,w({role:"menuitemcheckbox","aria-checked":o},n,{ref:t,"data-state":V(o),onSelect:x(n.onSelect,(()=>null==r?void 0:r(!o)),{checkForDefaultPrevented:!1})})))}));/*#__PURE__*/const L=/*#__PURE__*/C.createContext({});export const MenuRadioGroup=/*#__PURE__*/C.forwardRef(((e,o)=>{const{value:r,onValueChange:n,...a}=e,u=t(n),c=C.useMemo((()=>({value:r,onValueChange:u})),[r,u]);/*#__PURE__*/return C.createElement(L.Provider,{value:c},/*#__PURE__*/C.createElement(MenuGroup,w({},a,{ref:o})))}));/*#__PURE__*/export const MenuRadioItem=/*#__PURE__*/C.forwardRef(((e,t)=>{const{value:o,...r}=e,n=C.useContext(L),a=o===n.value;/*#__PURE__*/return C.createElement(G.Provider,{value:a},/*#__PURE__*/C.createElement(MenuItem,w({role:"menuitemradio","aria-checked":a},r,{ref:t,"data-state":V(a),onSelect:x(r.onSelect,(()=>{var e;return null===(e=n.onValueChange)||void 0===e?void 0:e.call(n,o)}),{checkForDefaultPrevented:!1})})))}));/*#__PURE__*/const T="span",G=/*#__PURE__*/C.createContext(!1);export const MenuItemIndicator=/*#__PURE__*/C.forwardRef(((e,t)=>{const{as:o=T,forceMount:r,...n}=e,a=C.useContext(G);/*#__PURE__*/return C.createElement(s,{present:r||a},/*#__PURE__*/C.createElement(c,w({},n,{as:o,ref:t,"data-state":V(a)})))}));/*#__PURE__*/export const MenuAnchor=l(u.Anchor,{displayName:"MenuAnchor"});export const MenuGroup=l(c,{defaultProps:{role:"group"},displayName:"MenuGroup"});export const MenuLabel=l(c,{displayName:"MenuLabel"});export const MenuSeparator=l(c,{defaultProps:{role:"separator","aria-orientation":"horizontal"},displayName:"MenuSeparator "});export const MenuArrow=l(u.Arrow,{displayName:"MenuArrow"});function V(e){return e?"checked":"unchecked"}export const Root=Menu;export const Anchor=MenuAnchor;export const Content=MenuContent;export const Group=MenuGroup;export const Label=MenuLabel;export const Item=MenuItem;export const CheckboxItem=MenuCheckboxItem;export const RadioGroup=MenuRadioGroup;export const RadioItem=MenuRadioItem;export const ItemIndicator=MenuItemIndicator;export const Separator=MenuSeparator;export const Arrow=MenuArrow;
//# sourceMappingURL=index.module.js.map
