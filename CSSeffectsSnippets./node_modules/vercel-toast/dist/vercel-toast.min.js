var toast=(()=>{var m=Object.defineProperty,q=(h,d)=>()=>(d||(d={exports:{}},h(d.exports,d)),d.exports),r=h=>m(h,"__esModule",{value:!0}),s=(h,d)=>{r(h);for(var b in d)m(h,b,{get:d[b],enumerable:!0})};var l=q(t=>{s(t,{Toast:()=>k,createToast:()=>n,destoryAllToasts:()=>o});const h=a=>new Promise(f=>setTimeout(f,a));let d=new Set(),b;class k{constructor(a,f={}){const{timeout:j=0,action:i,type:g="default",cancel:c}=f;this.message=a,this.options={timeout:j,action:i,type:g,cancel:c},this.setContainer(),this.insert(),d.add(this)}insert(){const a=document.createElement("div");a.className="toast",a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-hidden","false");const{action:f,type:j,cancel:i}=this.options,g=document.createElement("div");g.className="toast-inner";const c=document.createElement("div");c.className="toast-text",g.classList.add(j),typeof this.message==="string"?c.textContent=this.message:c.appendChild(this.message),g.appendChild(c);if(i){const e=document.createElement("button");e.className="toast-button cancel-button",e.textContent=i,e.type="text",e.onclick=()=>this.destory(),g.appendChild(e)}if(f){const e=document.createElement("button");e.className="toast-button",e.textContent=f.text,e.type="text",e.onclick=()=>{this.stopTimer(),f.callback?f.callback(this):this.destory()},g.appendChild(e)}a.appendChild(g),this.startTimer(),this.el=a,b.appendChild(a),h(50).then(p)}destory(){const{el:a}=this;if(!a)return;b.removeChild(a),d.delete(this),p()}setContainer(){b=document.querySelector(".toast-container"),b||(b=document.createElement("div"),b.className="toast-container",document.body.appendChild(b)),b.addEventListener("mouseenter",()=>{d.forEach(a=>a.stopTimer())}),b.addEventListener("mouseleave",()=>{d.forEach(a=>a.startTimer())})}startTimer(){this.options.timeout&&!this.timeoutId&&(this.timeoutId=self.setTimeout(()=>this.destory(),this.options.timeout))}stopTimer(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}}function n(a,f){return new k(a,f)}function o(){if(!b)return;for(d.clear();b.firstChild;)b.removeChild(b.firstChild)}function p(){const a=Array.from(d).reverse().slice(0,4),f=[];a.forEach((j,i)=>{const g=i+1,c=j.el,e=+(c.getAttribute("data-height")||0)||c.clientHeight;f.push(e),c.className=`toast toast-${g}`,c.dataset.height=""+e,c.style.setProperty("--index",""+g),c.style.setProperty("--height",e+"px"),c.style.setProperty("--front-height",`${f[0]}px`);if(g>1){const u=f.slice(0,g-1).reduce((v,w)=>v+=w,0);c.style.setProperty("--hover-offset-y",`-${u}px`)}else c.style.removeProperty("--hover-offset-y")})}});return l();})();
